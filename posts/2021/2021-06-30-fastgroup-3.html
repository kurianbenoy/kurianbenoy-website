<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2021-06-30">

<title>Kurian Benoy - Log3- Learning FastBook along with Study Group</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Kurian Benoy</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://til.kurianbenoy.com/">
 <span class="menu-text">TIL</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/kurianbenoy"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/kurianbenoy2"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kurianbenoy"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Log3- Learning FastBook along with Study Group</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">fastbook</div>
                <div class="quarto-category">myself</div>
                <div class="quarto-category">ML</div>
                <div class="quarto-category">Deep learning</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 30, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://user-images.githubusercontent.com/24592806/123889003-3d20f000-d972-11eb-888b-184aa92fa327.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">pexels-photo-3280130</figcaption><p></p>
</figure>
</div>
<section id="recap-of-week-3" class="level2">
<h2 class="anchored" data-anchor-id="recap-of-week-3">Recap of Week 3</h2>
<ul>
<li>Our captain <a href="https://twitter.com/amaarora">Aman</a> decided to cover only Chapter 2 during the session.</li>
<li>As a group, Aman asked all of us to check out the questionnaire at end of each Chapter.</li>
<li>Data loaders is something which passes the function one by one is called function. Fastai has a train data loader and validation data loader <img src="https://user-images.githubusercontent.com/24592806/123837234-3bcad580-d928-11eb-8a03-e7406f160b79.png" class="img-fluid" alt="image"></li>
<li>I was immediately curious about what to do for the test dataset as well. The full discussion thread can be <a href="https://wandb.ai/aarora/discussions/Fastbook-Reading-Group-Week-3--Vmlldzo3OTMwODk">found in this link</a></li>
<li>Generally for any model, there are two terms. One is X which called the independent variable and Y which is the label to predict is called the dependent variable.</li>
</ul>
<p>Let’s dive deep into DataLoaders. In fastai dataloaders, there are generally four things it does:</p>
<ol type="1">
<li>Get dependent and Independent variables with help of ImageBlock (<code>blocks=(ImageBlock, CategoryBlock)</code>)</li>
<li>Getting the actuals files for dataset (<code>get_items=get_image_files</code>)</li>
<li>Splitters, which is used for splitting validation and testing dataset randomly. That splitting is always being done with a random seed (<code>splitter=RandomSplitter(valid_pct=0.2, seed=42)</code>)</li>
<li>Get independent variables(<code>using get_y=parent_label</code>). Note <code>parent_label</code> is something provided by fastai to get the name of the folder. I heard there is something called grandparent splitters</li>
<li>Item transforms and batch transforms (for making images in the same size, for the neural network to process which is resizing images to 128 px <code>item_tfms=Resize(128</code>)</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://user-images.githubusercontent.com/24592806/124014954-c6cbce80-da01-11eb-969c-60fc3eb3c89b.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">image</figcaption><p></p>
</figure>
</div>
<p>Behind Datablocks and Dataloaders, there is lot of things are still happening 🤯</p>
<ul>
<li>There are a lot of data augmentation techniques. In the book we discussed methods like padding images, Random Resized Crop, Resize etc. Since there is a lot of black spaced borders, padding methods are not good. All these methods are the suboptimal way of doing things.</li>
<li>According to the book, Random Resized Crop, it’s way better than any other technique as it doesn’t see the full images in each pass. Yet throughout moving through multiple epochs, it sees the entire images</li>
<li>In ImageDataLoaders from-name-func is internally calling DataBlock as in chapter 3.</li>
</ul>
<p>Highlights of the full session can be found by clicking the below video:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="http://www.youtube.com/watch?v=rmOqCO7c8pw" title="Video Title"><img src="http://img.youtube.com/vi/rmOqCO7c8pw/0.jpg" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">IMAGE ALT TEXT</figcaption><p></p>
</figure>
</div>
<p>The homework for this week is to have an online working version of the app to be demoed to people. <a href="https://amaarora.github.io/">Aman</a> has said those who do not complete the assignment, need not even come to the sessions.</p>
<p>As mentioned in <a href="https://ohmeow.com/posts/2020/11/16/ajtfb-chapter-2.html">Wayde summary of fastai Chapter 2</a>, the datablock is used in fastai to tell four things always:</p>
<ol type="1">
<li>What kind of data you are working with</li>
<li>How to get the Data</li>
<li>How to label the Data</li>
<li>How to create a validation dataset</li>
</ol>
<p><em>Now let me share some of my learnings this week:</em></p>
<p>Tree classifier webapp</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://mybinder.org/v2/gh/kurianbenoy/Tree-Classifier/HEAD?urlpath=%2Fvoila%2Frender%2Ftree-classifier-app.ipynb"><img src="https://mybinder.org/badge_logo.svg" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Binder</figcaption><p></p>
</figure>
</div>
<ul>
<li>I started working on creating a tree classifier, which classifies based on the images what species of tree it is. The dataset creation step, was easy to do with duck-duck-go method. Yet what was realised was that method is buggy in some cases.</li>
<li>When I collected dataset with just names, like Mango out of domain images like image of mango juice, mangoes, all came. Cleaning of dataset is required for this, also I limited my search query to include tree with each fruit name. The <a href="https://github.com/kurianbenoy/Tree-Classifier/blob/master/Data-collection.ipynb">dataset collection notebook can be found here</a>.</li>
<li>The online webapp to classify trees I created can be accessed in the <a href="https://mybinder.org/v2/gh/kurianbenoy/Tree-Classifier/HEAD?urlpath=%2Fvoila%2Frender%2Ftree-classifier-app.ipynb">Binder link</a></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://user-images.githubusercontent.com/24592806/124020244-a69f0e00-da07-11eb-9068-8a8de2fd0eb3.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">image</figcaption><p></p>
</figure>
</div>
<ul>
<li>My original goal, was to create a webapp for same use-case, with Vue.js and Flask, as a full stack web application. It’s being inspired by <a href="https://fullstackwithpr.hashnode.dev/the-bear-classifier-fastai-meets-angular">this blogpost</a></li>
<li>By upcoming week, I will be coming with a blogpost with how to use a fast.ai model for inferencing with Vue.js and Flask. Do remember to check it out</li>
<li>I stumbled upon a shortcut key in Jupyter, that is on pressing <code>Shift + Tab</code> together you can seen the function definition</li>
<li>I did the questionnare, after week 2. I was able to just answer 15 questions out of 27 in the first pass</li>
<li>After re-reading the chapter again, I asked these questions to our fantastic group:</li>
</ul>
<pre><code>1. Where do text models currently have a major deficiency?
2. What are possible negative societal implication of text
generation models?
3. What are the three steps in deployment process?
4. What are the downsides of deploying your app to server,
instead of device such as phone or PC?</code></pre>
<p>The questions were anwered by <a href="https://twitter.com/ravimashru">Ravi Mashru</a>:</p>
<blockquote class="blockquote">
<p>1 &amp; 2: From what I read in the book, text models are really good at generating context-appropriate content. However, this does not mean the generated content is correct. Take a look at this text generated by GPT-2 saying recycling is bad for the world: https://openai.com/blog/better-language-models/#sample8.</p>
</blockquote>
<blockquote class="blockquote">
<p>The real problem is when such models are used to generate incorrect content that might appear reasonable to laymen and drive disinformation.</p>
</blockquote>
<blockquote class="blockquote">
<p>3: I think the 3-step deployment process is shown in figure 2-5 and explained after the figure in the book. Did you find any particular step difficult to understand?</p>
</blockquote>
<blockquote class="blockquote">
<p>4: At the end, Alexis says you can go with the approach you find easiest.</p>
</blockquote>
<blockquote class="blockquote">
<p>The downsides of deploying to a server are that the client always needs to talk to the server over a network. This could also add latency (though with fast servers doing this over a network might actually become faster).</p>
</blockquote>
<blockquote class="blockquote">
<p>The biggest drawback I noticed is the need to send data over the network to an external server. However, this can be remedied by running on-premise servers at the cost of increased complexity of managing the infrastructure.</p>
</blockquote>
<blockquote class="blockquote">
<p>But we should keep in mind that deploying to edge devices has downsides as well - you need to adhere to the manufacturer specific steps to enable your model to run on different</p>
</blockquote>
<p>and <a href="https://twitter.com/ElisonSherton">Vinayakh Nayakh</a> added on some of major deficencies of Text models:</p>
<pre><code>At my current organization, they are trying to build a text generation model which is a sort
of captioning model for a product given it's image. The problem which they're facing is of
controlled text generation i.e. let's say I have trained a model which takes an image as
input and produces a string og words as output. 

The issue which is encountered is that if certain sentence structures are more frequent,
the words present in those sentences are highly repeated at the inference 
time during generation of descriptions. Also, in tasks like keyword detection,
if the keywords are nuanced in nature, then they cannot be picked up very easily by 
these text models...</code></pre>
<p>Thank you everyone for reading 🙏</p>
<p><em>Future Resource to ponder upon in the coming days:</em></p>
<ul>
<li><a href="https://youtu.be/NzWadB_fcTE">Fastai DataBlock from Scratch</a></li>
<li><a href="https://www.youtube.com/watch?v=fMym_BKWQzk">Bias in DataScience</a></li>
<li><a href="https://ohmeow.com/posts/2020/04/11/finding-datablock-nirvana-part-1.html">Find Datablock nirvana with Fastbook</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>