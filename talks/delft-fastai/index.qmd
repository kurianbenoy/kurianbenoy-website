---
title: Malayalam Project
subtitle: Delft-Fastai check-in sessions
date: 2023-05-28
date-format: full
comments: false
format:
  revealjs:
    slide-number: true
    footer: "Kurian Benoy | You can access slides @ [kurianbenoy.com/talks/delft-fastai/index.html](https://kurianbenoy.com/talks/delft-fastai/index.html)"
---

## Outline

- About Malayalam
- malayalam_asr_benchmarking nbdev project
- vegam-whisper-medium Malayalam Release
- Deploying it to end-users

## About Malayalam

- Malayalam is my mother tongue
- <span style="color:blue">Native speakers: 38+ million</span>
- Spoken in: Kerala, Lakshadweep, Puducherry, wherever Malayali is living .

## Malayalam_asr_benchmarking project

## Whisper Event

- HuggingFace Team conducted a whisper fine tuning event for 2 weeks from 5th December 2022 to 19th December 2022. The results were out on 23rd December 2022.
- The goal was to to fine-tune the Whisper model to build state-of-the-art speech recognition systems in the languages of our choice ðŸ—£

::: aside
[Whisper Event huggingface page](https://huggingface.co/whisper-event)
:::

## Malayalam models in Whisper Event

- For the language Malayalam, the results are as follows:

![Malayalam models performance in whisper event according [to leaderboard](https://huggingface.co/spaces/whisper-event/leaderboard?dataset=mozilla-foundation%2Fcommon_voice_11_0&config=ml&split=test)](https://user-images.githubusercontent.com/24592806/222974236-44f047ec-e072-4f6a-b49f-ed88afb02999.png){width=700 fig-align="center"}

## Winning models in Malayalam in Whisper Event

- The winning model for Common voice: `thennal/whisper-medium-ml`
- The winning model for Fleurs: `parambharath/whisper-small-ml`

## I was not convinced

I was sceptical about the winning models becuase of:

1. Achieving 10% WER in Malayalam is astonishing.
2. In Malayalam there is not even a single yard stick to compare. Most of
previous works were done in proprietary datasets and not open-sourced.
3. Malyalam is a [morpohologically complex language](https://kavyamanohar.com/documents/tsd_morph_complexity_ml.pdf). So even achieving 30% WER
is a big deal.

## I was not convinced {.scrollable}

4. Didn't trust the Hugging Face way of evaluating models.

![thennal/whisper-medium-ml model card readme](../fossasia2023/thennal_model_card.png)


## I was not convinced {.scrollable}

4. Didn't trust the Hugging Face way of evaluating models.

![Last commit in thennal/whisper-medium-ml](../fossasia2023/thennal_commit.png)

## I wanted to build something new

- New github project for [Malayalam ASR Benchmarking](https://github.com/kurianbenoy/malayalam_asr_benchmarking)

![Time for a new adventure](../fossasia2023/adventure_talk.jpg)

##

{{< tweet kurianbenoy2 1633647128059969536 >}}

##

{{< tweet kavya_manohar 1633755478818959372 >}}

## Results on Benchmarking in Malayalam

- Started with 6 fine-tuned models in Malayalam

1. thennal/whisper-medium-ml
2. parambharat/whisper-tiny-ml
3. parambharat/whisper-base-ml
4. parambharat/whisper-small-ml
5. anuragshas/whisper-large-v2-ml
6. DrishtiSharma/whisper-large-v2-malayalam

- Compared it with [6 model versions released by OpenAI](https://github.com/openai/whisper).

## Results on benechmarking in Common Voice dataset

![Output from benchmarking tool](https://user-images.githubusercontent.com/24592806/230587218-96f1c95b-abaf-4c09-866c-0538d7105239.png)

## Results in Common Voice dataset

![WER in Common Voice-9 test split](https://user-images.githubusercontent.com/24592806/230526272-cadd5443-5316-40e1-a356-46c993cb174d.png)

## CER in Common Voice dataset

![CER in Common Voice-9 test split](https://user-images.githubusercontent.com/24592806/230526282-f6018629-1aa0-4c6c-9b9a-66b4f04e3355.png)

## Results on benechmarking in Malayalam Speech Corpus dataset

![Output from benchmarking tool](https://user-images.githubusercontent.com/24592806/230657721-4e98b75b-4641-4047-8d51-5bd098b76fc8.png)

## Results in Malayalam Speech Corpus dataset

![WER in MSC](https://user-images.githubusercontent.com/24592806/230658615-5db73907-764f-42db-8f2c-88f1089ac1ea.png)

## CER in Malayalam Speech Corpus

![Character Error rate in MSC](https://user-images.githubusercontent.com/24592806/230658625-d3a9541c-facf-4f4c-83f8-f93ffa4c5c7a.png)

::: {.notes}
in WER Malayalam CommonVoice9 dataset:

tiny - 102.7
base - 122.9
small - 104.8
medium - 137.8
large - 107.1
largev2 - 103.2
:::


## Why I love nbdev?

- I love Jupyter notebook
- website + pypi + anaconda + github project
- I love Quarto

## Nbdev is a secret weapon for productivity

- I have build one company project and two python packages with nbdev so far:

1. malayalam_asr_benchmarking
2. whisper_normalizer

## Nbdev opinion by Hamel

![image](https://user-images.githubusercontent.com/24592806/239686246-18b3494a-4daf-446e-b7f6-475cb9d53846.png)

[From Hamel answer in Nbdev for production code topic](https://forums.fast.ai/t/nbdev-for-use-with-production-code/103110/2?u=kurianbenoy)

## My favourite nbdev project

- [fastai](https://github.com/fastai/fastai)
- [nbdev](https://github.com/fastai/nbdev)
- [Sveltish](https://fredguth.github.io/sveltish/)

## Quarto

- nbdev builds on giant shoulders of quarto
- Learning quarto is like a new programming language.

## Quarto 

{{< video https://youtu.be/nllKcuX7rEc width="1400" height="600" >}}

## My favourite quarto projects

- [Quarto website](https://quarto.org/)
- [Wasim Website](https://wasimlorgat.com/)
- [fastai course website](https://course.fast.ai/)


